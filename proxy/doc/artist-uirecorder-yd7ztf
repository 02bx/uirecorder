{"id":1484702,"slug":"yd7ztf","title":"录制脚本","book_id":187563,"book":{"id":187563,"type":"Book","slug":"uirecorder","name":"UIRecorder","user_id":296279,"description":"一端录制，多端使用的便捷 UI 自动化测试工具","creator_id":94302,"public":1,"items_count":11,"likes_count":0,"watches_count":6,"content_updated_at":"2019-05-16T01:52:04.519Z","updated_at":"2019-05-16T01:52:04.000Z","created_at":"2018-12-11T06:11:00.000Z","namespace":"artist/uirecorder","user":{"id":296279,"type":"Group","login":"artist","name":"F&D艺术家-前端自动化测试","description":"探索与推广前端自动化测试","avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png","large_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_320,h_320","medium_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_160,h_160","small_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_80,h_80","books_count":3,"public_books_count":3,"followers_count":0,"following_count":0,"created_at":"2019-03-21T06:44:55.000Z","updated_at":"2019-05-08T06:23:34.000Z","_serializer":"v2.user"},"_serializer":"v2.book"},"user_id":94302,"creator":{"id":94302,"type":"User","login":"linshuoting","name":"说听(Stngle)","description":"F&D艺术家   \nhttps://github.com/Stngle","avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png","large_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_320,h_320","medium_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_160,h_160","small_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_80,h_80","books_count":1,"public_books_count":0,"followers_count":3,"following_count":2,"created_at":"2018-03-21T12:59:06.000Z","updated_at":"2019-05-06T01:35:55.000Z","_serializer":"v2.user"},"format":"lake","body":"","body_draft":"","body_html":"<h3 id=\"4f4c15bc\">一、初始化工程</h3><p><br /></p><p>打开 terminal，新建一个工程目录：</p><p><br /></p><pre data-lang=\"bash\"><code>// for example\ncd ~/Documents\nmkdir uirecorder_test\ncd uirecorder_test</code></pre><p><br /></p><p>初始化 UIRecorder 工程：</p><p><br /></p><pre data-lang=\"bash\"><code>uirecorder init\n// 默认设置的话，一路回车就可以</code></pre><p><br /></p><p>效果如图：</p><p><br /></p><p><img alt=\"image.png\" title=\"image.png\" src=\"https://cdn.nlark.com/yuque/0/2019/png/94302/1554704643009-c6c96ca7-cf00-4b16-a51b-6b4408508e2b.png#align=left&amp;display=inline&amp;height=813&amp;name=image.png&amp;originHeight=1626&amp;originWidth=1196&amp;size=312864&amp;status=done&amp;width=598\" style=\"max-width: 600px; width: 598px;\" /></p><p><img alt=\"image.png\" title=\"image.png\" src=\"https://cdn.nlark.com/yuque/0/2019/png/94302/1554704643026-462f50f5-a51d-4d82-b8ae-8e4df500a7bb.png#align=left&amp;display=inline&amp;height=813&amp;name=image.png&amp;originHeight=1626&amp;originWidth=1196&amp;size=291150&amp;status=done&amp;width=598\" style=\"max-width: 600px; width: 598px;\" /></p><p><br /></p><h3 id=\"ba88555e\">二、开始录制</h3><p><br /></p><p>新建测试用例录制：</p><p><br /></p><pre data-lang=\"bash\"><code>uirecorder start</code></pre><p><br /></p><p>效果如图：</p><p><br /></p><p><img alt=\"image.png\" title=\"image.png\" src=\"https://cdn.nlark.com/yuque/0/2019/png/94302/1554704643006-39256fde-ec57-4b2d-8471-3f3afc8e04e5.png#align=left&amp;display=inline&amp;height=371&amp;name=image.png&amp;originHeight=742&amp;originWidth=1196&amp;size=92360&amp;status=done&amp;width=598\" style=\"max-width: 600px; width: 598px;\" /></p><p><br /></p><p>其中，一个脚本文件对应一个录制的测试用例，新建测试用例注意脚本文件名不要跟已有文件名冲突。</p><p><br /></p><p>录制浏览器会自动打开，注意本地 hosts 配置 <code>127.0.0.1 localhost</code>。进入页面输入 url 则可以开始录制。默认会打开同步校验浏览器，该浏览器的作用是在录制的同时做回归测试校验，如果提示执行失败，则说明回归测试过程很大几率也会执行失败，需要对录制过程进行优化（比如借助工具栏辅助功能）。</p><p><br /></p><p><img alt=\"image.png\" title=\"image.png\" src=\"https://cdn.nlark.com/yuque/0/2019/png/94302/1554704643027-dbdf55a2-f2bd-4f10-bcbc-6bdf01d421db.png#align=left&amp;display=inline&amp;height=768&amp;name=image.png&amp;originHeight=1536&amp;originWidth=2048&amp;size=161686&amp;status=done&amp;width=1024\" style=\"max-width: 600px; width: 1024px;\" /></p><p><br /></p><p>录制完毕，点击左下方工具栏“结束录制”按钮，结束录制并保存测试用例脚本：</p><p><br /></p><p><img alt=\"image.png\" title=\"image.png\" src=\"https://cdn.nlark.com/yuque/0/2019/png/94302/1554704643013-088bdb5a-7bc9-44e1-8cd5-6bb2118f746f.png#align=left&amp;display=inline&amp;height=768&amp;name=image.png&amp;originHeight=1536&amp;originWidth=2048&amp;size=1185021&amp;status=done&amp;width=1024\" style=\"max-width: 600px; width: 1024px;\" /></p><p><br /></p><p>已有测试用例继续录制，运行以下命令，待页面加载执行完毕，可继续录制：</p><p><br /></p><pre data-lang=\"bash\"><code>uirecorder sample/test.spec.js\t// 对应文件名 </code></pre><p><br /></p><h3 id=\"d32d7144\">三、已有工程安装</h3><p><br /></p><p>比如直接从 git 仓库 clone 的已有测试工程，可通过以下步骤安装依赖：</p><p><br /></p><pre data-lang=\"bash\"><code>// 安装node依赖包\nnpm install\n// 安装 standalone-selenium 依赖 webdriver\nnpm run installdriver</code></pre><p><br /></p><p><br /></p>","body_lake":"<!doctype lake><h3 id=\"4f4c15bc\">一、初始化工程</h3><p><br /></p><p>打开 terminal，新建一个工程目录：</p><p><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22%2F%2F%20for%20example%5Cncd%20~%2FDocuments%5Cnmkdir%20uirecorder_test%5Cncd%20uirecorder_test%22%2C%22id%22%3A%22ARS6s%22%7D\"></card><p><br /></p><p>初始化 UIRecorder 工程：</p><p><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22uirecorder%20init%5Cn%2F%2F%20%E9%BB%98%E8%AE%A4%E8%AE%BE%E7%BD%AE%E7%9A%84%E8%AF%9D%EF%BC%8C%E4%B8%80%E8%B7%AF%E5%9B%9E%E8%BD%A6%E5%B0%B1%E5%8F%AF%E4%BB%A5%22%2C%22id%22%3A%22jeAyk%22%7D\"></card><p><br /></p><p>效果如图：</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F94302%2F1554704643009-c6c96ca7-cf00-4b16-a51b-6b4408508e2b.png%22%2C%22originWidth%22%3A1196%2C%22originHeight%22%3A1626%2C%22name%22%3A%22image.png%22%2C%22size%22%3A312864%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A598%2C%22height%22%3A813%7D\"></card></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F94302%2F1554704643026-462f50f5-a51d-4d82-b8ae-8e4df500a7bb.png%22%2C%22originWidth%22%3A1196%2C%22originHeight%22%3A1626%2C%22name%22%3A%22image.png%22%2C%22size%22%3A291150%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A598%2C%22height%22%3A813%7D\"></card></p><p><br /></p><h3 id=\"ba88555e\">二、开始录制</h3><p><br /></p><p>新建测试用例录制：</p><p><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22uirecorder%20start%22%2C%22id%22%3A%22tSSKR%22%7D\"></card><p><br /></p><p>效果如图：</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F94302%2F1554704643006-39256fde-ec57-4b2d-8471-3f3afc8e04e5.png%22%2C%22originWidth%22%3A1196%2C%22originHeight%22%3A742%2C%22name%22%3A%22image.png%22%2C%22size%22%3A92360%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A598%2C%22height%22%3A371%7D\"></card></p><p><br /></p><p>其中，一个脚本文件对应一个录制的测试用例，新建测试用例注意脚本文件名不要跟已有文件名冲突。</p><p><br /></p><p>录制浏览器会自动打开，注意本地 hosts 配置 <code>127.0.0.1 localhost</code>。进入页面输入 url 则可以开始录制。默认会打开同步校验浏览器，该浏览器的作用是在录制的同时做回归测试校验，如果提示执行失败，则说明回归测试过程很大几率也会执行失败，需要对录制过程进行优化（比如借助工具栏辅助功能）。</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F94302%2F1554704643027-dbdf55a2-f2bd-4f10-bcbc-6bdf01d421db.png%22%2C%22originWidth%22%3A2048%2C%22originHeight%22%3A1536%2C%22name%22%3A%22image.png%22%2C%22size%22%3A161686%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1024%2C%22height%22%3A768%7D\"></card></p><p><br /></p><p>录制完毕，点击左下方工具栏“结束录制”按钮，结束录制并保存测试用例脚本：</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F94302%2F1554704643013-088bdb5a-7bc9-44e1-8cd5-6bb2118f746f.png%22%2C%22originWidth%22%3A2048%2C%22originHeight%22%3A1536%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1185021%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1024%2C%22height%22%3A768%7D\"></card></p><p><br /></p><p>已有测试用例继续录制，运行以下命令，待页面加载执行完毕，可继续录制：</p><p><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22uirecorder%20sample%2Ftest.spec.js%5Ct%2F%2F%20%E5%AF%B9%E5%BA%94%E6%96%87%E4%BB%B6%E5%90%8D%20%22%2C%22id%22%3A%22QFf16%22%7D\"></card><p><br /></p><h3 id=\"d32d7144\">三、已有工程安装</h3><p><br /><cursor /></p><p>比如直接从 git 仓库 clone 的已有测试工程，可通过以下步骤安装依赖：</p><p><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22%2F%2F%20%E5%AE%89%E8%A3%85node%E4%BE%9D%E8%B5%96%E5%8C%85%5Cnnpm%20install%5Cn%2F%2F%20%E5%AE%89%E8%A3%85%20standalone-selenium%20%E4%BE%9D%E8%B5%96%20webdriver%5Cnnpm%20run%20installdriver%22%2C%22id%22%3A%22XvO4f%22%7D\"></card><p><br /></p><p><br /></p>","public":1,"status":null,"likes_count":5,"comments_count":0,"content_updated_at":"2019-04-10T08:00:47.000Z","deleted_at":null,"created_at":"2019-04-08T06:23:42.000Z","updated_at":"2019-05-06T06:42:46.000Z","published_at":"2019-04-10T08:00:47.000Z","first_published_at":"2019-04-08T06:24:09.000Z","word_count":354,"cover":null,"description":"一、初始化工程打开 terminal，新建一个工程目录：// for example cd ~/Documents mkdir uirecorder_test cd uirecorder_test初始化 UIRecorder 工程：uirecorder init // 默认设置的话，一路回车就...","custom_description":null,"_serializer":"v2.doc_detail"}