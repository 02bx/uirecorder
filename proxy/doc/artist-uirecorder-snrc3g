{"id":1484771,"slug":"snrc3g","title":"录制功能","book_id":187563,"book":{"id":187563,"type":"Book","slug":"uirecorder","name":"UIRecorder","user_id":296279,"description":"一端录制，多端使用的便捷 UI 自动化测试工具","creator_id":94302,"public":1,"items_count":22,"likes_count":0,"watches_count":12,"content_updated_at":"2019-10-11T06:31:45.205Z","updated_at":"2019-10-11T06:31:45.000Z","created_at":"2018-12-11T06:11:00.000Z","namespace":"artist/uirecorder","user":{"id":296279,"type":"Group","login":"artist","name":"F&D艺术家-前端自动化测试","description":"探索与推广前端自动化测试","avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png","large_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_320,h_320","medium_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_160,h_160","small_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_80,h_80","books_count":4,"public_books_count":4,"followers_count":0,"following_count":0,"created_at":"2019-03-21T06:44:55.000Z","updated_at":"2019-08-08T02:30:37.000Z","_serializer":"v2.user"},"_serializer":"v2.book"},"user_id":94302,"creator":{"id":94302,"type":"User","login":"linshuoting","name":"说听(Stngle)","description":"F&D艺术家   \nhttps://github.com/Stngle","avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png","large_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_320,h_320","medium_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_160,h_160","small_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_80,h_80","books_count":2,"public_books_count":1,"followers_count":8,"following_count":6,"created_at":"2018-03-21T12:59:06.000Z","updated_at":"2019-10-09T08:37:02.000Z","_serializer":"v2.user"},"format":"lake","body":"","body_draft":"","body_html":"<!doctype html><div class=\"lake-content-editor-core lake-engine\" data-lake-element=\"root\" data-selection-94302=\"%7B%22path%22%3A%5B%5B28%2C1%5D%2C%5B28%2C1%5D%5D%2C%22uuid%22%3A%2294302%22%2C%22active%22%3Atrue%7D\"><h4 id=\"be02a4b1\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\"><span style=\"color: #191F25;\">1、录制脚本时提示“excute error”原因及解决方法？</span></h4><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span style=\"color: #191F25;\"><br></span></p><ul lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li><span style=\"color: #191F25;\">录制过程默认会开启同步校验浏览器，录制同时会进行回归校验，如果提示“执行失败”，则说明该步骤在回归测试过程有很大几率会执行失败，例如：</span></li></ul><ul lake-indent=\"1\" style=\"list-style-type: none; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><ul lake-indent=\"0\" style=\"list-style-type: circle; margin: 0px; padding-left: 23px;\"><li><span style=\"color: #191F25;\">提示&nbsp;</span><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\"><span style=\"color: #191F25;\">Wait element diaplayed timeout</span></code>，则该步骤回归测试运行时也可能出现加载延迟，导致原因可能是页面较大或 iframe 内节点加载时间较长 或 异步请求数据时间较长，解决方法可以在该步骤前增加延迟时间。</li></ul></ul><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><h4 id=\"2c3c5f06\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\"><span style=\"color: #191F25;\">2、多种测试场景，录制脚本一次，还是需要录制多次脚本，还是可以改脚本参数？</span></h4><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><span style=\"color: #191F25;\"><br></span></p><ul lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li>录制过程 UIRecorder 会全局监听浏览器事件，操作过程捕捉对应的节点信息和操作事件，比如点击“跳转”按钮，该步骤录制对应的代码如下：</li></ul><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><div data-card-type=\"block\" data-lake-card=\"codeblock\" id=\"9VWzQ\"><div class=\"lake-codeblock-content\" style=\"border: 1px solid rgb(232, 232, 232); max-width: 750px; color: rgb(38, 38, 38); margin: 0px; padding: 0px; background: rgb(249, 249, 249);\"><div class=\"\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 16px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><pre class=\"cm-s-default\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"cm-variable\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">it</span>(<span class=\"cm-string\" style=\"color: rgb(102, 153, 0); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">'click: 跳过 ( //a[text()=\"跳过\"], 38, 15, 0 )'</span>, <span class=\"cm-keyword\" style=\"color: rgb(215, 58, 73); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">async</span> <span class=\"cm-keyword\" style=\"color: rgb(215, 58, 73); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">function</span>(){\n  <span class=\"cm-keyword\" style=\"color: rgb(215, 58, 73); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">await</span> <span class=\"cm-variable\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">driver</span>.<span class=\"cm-property\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">sleep</span>(<span class=\"cm-number\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">300</span>).<span class=\"cm-property\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">wait</span>(<span class=\"cm-string\" style=\"color: rgb(102, 153, 0); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">'//a[text()=\"跳转\"]'</span>, <span class=\"cm-number\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">1000</span>)\n  .<span class=\"cm-property\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">sleep</span>(<span class=\"cm-number\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">300</span>).<span class=\"cm-property\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">mouseMove</span>(<span class=\"cm-number\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">38</span>, <span class=\"cm-number\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">15</span>).<span class=\"cm-property\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">click</span>(<span class=\"cm-number\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">0</span>).<span class=\"cm-property\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">catch</span>(<span class=\"cm-variable\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">catchError</span>);\n});</pre></div></div></div><ul lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li>其中，<code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">//a[text()=\"跳转\"]</code>&nbsp;对应节点的 DOM 路径，<code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">.mouseMove(38, 15).click(0)</code>&nbsp;代表鼠标的相对位移和鼠标左键点击操作，而这些信息在录制过程已经“固定”了。</li><li>如果有多种测试场景属于一类测试场景（比如两个场景只有某个操作步骤某个参数不同，则可以通过手动更改录制脚本代码的形式，减少录制工作量），比如查询列表页面的前三页，可以做如下代码改造：</li></ul><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><div data-card-type=\"block\" data-lake-card=\"codeblock\" id=\"yrYjX\"><div class=\"lake-codeblock-content\" style=\"border: 1px solid rgb(232, 232, 232); max-width: 750px; color: rgb(38, 38, 38); margin: 0px; padding: 0px; background: rgb(249, 249, 249);\"><div class=\"\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 16px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><pre class=\"cm-s-default\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"cm-keyword\" style=\"color: rgb(215, 58, 73); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">const</span> <span class=\"cm-def\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">pages</span> <span class=\"cm-operator\" style=\"color: rgb(215, 58, 73); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">=</span> [<span class=\"cm-number\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">1</span>, <span class=\"cm-number\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">2</span>, <span class=\"cm-number\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">3</span>];\n\n<span class=\"cm-variable\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">pages</span>.<span class=\"cm-property\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">map</span>( <span class=\"cm-def\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">currentPage</span> <span class=\"cm-operator\" style=\"color: rgb(215, 58, 73); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">=&gt;</span> {\n  <span class=\"cm-variable\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">it</span>(<span class=\"cm-string\" style=\"color: rgb(102, 153, 0); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">'查询指定列表页'</span>, <span class=\"cm-keyword\" style=\"color: rgb(215, 58, 73); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">async</span> <span class=\"cm-keyword\" style=\"color: rgb(215, 58, 73); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">function</span>(){\n    <span class=\"cm-keyword\" style=\"color: rgb(215, 58, 73); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">await</span> <span class=\"cm-variable\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">driver</span>.<span class=\"cm-property\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">url</span>(<span class=\"cm-variable\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">_</span>(<span class=\"cm-string-2\" style=\"color: rgb(102, 153, 0); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">`http://test.com/list.html?currentPage=${</span><span class=\"cm-variable-2\" style=\"color: rgb(0, 92, 197); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">currentPage</span><span class=\"cm-string-2\" style=\"color: rgb(102, 153, 0); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">}</span><span class=\"cm-string-2\" style=\"color: rgb(102, 153, 0); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">`</span>));\n  });\n})\n</pre></div></div></div><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><h4 id=\"f2d28c7b\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">3、页面打开失败，跳转至 <code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">data:,</code></h4><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><ul lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li>检查本地 hosts 文件配置，确保&nbsp;<code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">127.0.0.1 localhost</code>&nbsp;存在：</li></ul><ul lake-indent=\"1\" style=\"list-style-type: none; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><ul lake-indent=\"0\" style=\"list-style-type: circle; margin: 0px; padding-left: 23px;\"><li>Windows系统路径：<code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">C:\\Windows\\System32\\drivers\\etc</code></li><li><span style=\"color: #383A42; background-color: #FAFAFA;\">Mac 系统路径：</span><code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">/etc/hosts</code></li></ul></ul><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><h4 id=\"d1Dog\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">4、录制过程手动点击浏览器窗口最大化，导致回归测试失败</h4><ul lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li>录制的时候，终端交互会提示输入分辨率，然后录制过程需要固定窗口录制。录制过程中，手动点击窗口最大化，是没法监听到的，会导致回归测试失败。</li></ul><h4 id=\"HKT2F\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\"><br></h4><h4 id=\"tkpFP\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">5、验证码问题</h4><ul lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li>一般在登录场景会出现验证码校验的环节，这种场景一般通过免登接口的方式进行登录会比较合适。出于安全考虑，UIRecorder 也不会提供破解验证码的功能</li></ul><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><h4 id=\"M0qPb\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">6、使用自定义模版录制</h4><ul start=\"-\" lake-indent=\"0\" style=\"list-style-type: disc; margin: 0px; padding-left: 23px; font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word;\"><li>将自定义模版放至目录 <code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">template/jwebdriver</code>&nbsp;（PC）、 <code style=\"font-family: monospace; font-size: inherit; background-color: rgba(0, 0, 0, 0.06); padding: 0px 2px; border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 2px; line-height: inherit; overflow-wrap: break-word; text-indent: 0px;\">jwebdriver-mobile.js</code>&nbsp;（Mobile）进行录制即可。具体参考文档&nbsp;<a href=\"https://www.yuque.com/artist/uirecorder/rb242b\" target=\"_blank\">https://www.yuque.com/artist/uirecorder/rb242b</a>&nbsp;。</li></ul><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p><p style=\"font-size: 14px; color: rgb(38, 38, 38); line-height: 24px; letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; margin: 0px;\"><br></p></div>","body_lake":"<!doctype lake><meta name=\"doc-version\" content=\"1\" /><h4 id=\"be02a4b1\"><span style=\"color: #191F25;\">1、录制脚本时提示“excute error”原因及解决方法？</span></h4><p><span style=\"color: #191F25;\"><br /></span></p><ul><li><span style=\"color: #191F25;\">录制过程默认会开启同步校验浏览器，录制同时会进行回归校验，如果提示“执行失败”，则说明该步骤在回归测试过程有很大几率会执行失败，例如：</span></li></ul><ul data-lake-indent=\"1\"><li><span style=\"color: #191F25;\">提示 </span><code><span style=\"color: #191F25;\">Wait element diaplayed timeout</span></code>，则该步骤回归测试运行时也可能出现加载延迟，导致原因可能是页面较大或 iframe 内节点加载时间较长 或 异步请求数据时间较长，解决方法可以在该步骤前增加延迟时间。</li></ul><p><br /></p><h4 id=\"2c3c5f06\"><span style=\"color: #191F25;\">2、多种测试场景，录制脚本一次，还是需要录制多次脚本，还是可以改脚本参数？</span></h4><p><span style=\"color: #191F25;\"><br /></span></p><ul><li>录制过程 UIRecorder 会全局监听浏览器事件，操作过程捕捉对应的节点信息和操作事件，比如点击“跳转”按钮，该步骤录制对应的代码如下：</li></ul><p><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22it('click%3A%20%E8%B7%B3%E8%BF%87%20(%20%2F%2Fa%5Btext()%3D%5C%22%E8%B7%B3%E8%BF%87%5C%22%5D%2C%2038%2C%2015%2C%200%20)'%2C%20async%20function()%7B%5Cn%20%20await%20driver.sleep(300).wait('%2F%2Fa%5Btext()%3D%5C%22%E8%B7%B3%E8%BD%AC%5C%22%5D'%2C%201000)%5Cn%20%20.sleep(300).mouseMove(38%2C%2015).click(0).catch(catchError)%3B%5Cn%7D)%3B%22%2C%22id%22%3A%229VWzQ%22%7D\"></card><ul><li>其中，<code>//a[text()=&quot;跳转&quot;]</code> 对应节点的 DOM 路径，<code>.mouseMove(38, 15).click(0)</code> 代表鼠标的相对位移和鼠标左键点击操作，而这些信息在录制过程已经“固定”了。</li><li>如果有多种测试场景属于一类测试场景（比如两个场景只有某个操作步骤某个参数不同，则可以通过手动更改录制脚本代码的形式，减少录制工作量），比如查询列表页面的前三页，可以做如下代码改造：</li></ul><p><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22const%20pages%20%3D%20%5B1%2C%202%2C%203%5D%3B%5Cn%5Cnpages.map(%20currentPage%20%3D%3E%20%7B%5Cn%5Ctit('%E6%9F%A5%E8%AF%A2%E6%8C%87%E5%AE%9A%E5%88%97%E8%A1%A8%E9%A1%B5'%2C%20async%20function()%7B%5Cn%20%20%20%20await%20driver.url(_(%60http%3A%2F%2Ftest.com%2Flist.html%3FcurrentPage%3D%24%7BcurrentPage%7D%60))%3B%5Cn%20%20%7D)%3B%5Cn%7D)%5Cn%22%2C%22id%22%3A%22yrYjX%22%7D\"></card><p><br /></p><h4 id=\"f2d28c7b\">3、页面打开失败，跳转至 <code>data:,</code></h4><p><br /></p><ul><li>检查本地 hosts 文件配置，确保 <code>127.0.0.1 localhost</code> 存在：</li></ul><ul data-lake-indent=\"1\"><li>Windows系统路径：<code>C:\\Windows\\System32\\drivers\\etc</code></li><li><span style=\"color: #383A42; background-color: #FAFAFA;\">Mac 系统路径：</span><code>/etc/hosts</code></li></ul><p><br /></p><h4 id=\"d1Dog\">4、录制过程手动点击浏览器窗口最大化，导致回归测试失败</h4><ul><li>录制的时候，终端交互会提示输入分辨率，然后录制过程需要固定窗口录制。录制过程中，手动点击窗口最大化，是没法监听到的，会导致回归测试失败。</li></ul><h4 id=\"HKT2F\"><br /></h4><h4 id=\"tkpFP\">5、验证码问题</h4><ul><li>一般在登录场景会出现验证码校验的环节，这种场景一般通过免登接口的方式进行登录会比较合适。出于安全考虑，UIRecorder 也不会提供破解验证码的功能</li></ul><p><br /></p><h4 id=\"M0qPb\">6、使用自定义模版录制</h4><ul><li>将自定义模版放至目录 <code>template/jwebdriver</code> （PC）、 <code>jwebdriver-mobile.js</code> （Mobile）进行录制即可。具体参考文档 <a href=\"https://www.yuque.com/artist/uirecorder/rb242b\" target=\"_blank\">https://www.yuque.com/artist/uirecorder/rb242b</a> 。</li></ul><p><br /></p><p><br /></p>","public":1,"status":null,"likes_count":6,"comments_count":1,"content_updated_at":"2019-09-26T09:26:59.000Z","deleted_at":null,"created_at":"2019-04-08T06:32:39.000Z","updated_at":"2019-09-26T09:26:59.000Z","published_at":"2019-09-26T09:26:59.000Z","first_published_at":"2019-04-08T06:33:23.000Z","word_count":695,"cover":null,"description":"1、录制脚本时提示“excute error”原因及解决方法？录制过程默认会开启同步校验浏览器，录制同时会进行回归校验，如果提示“执行失败”，则说明该步骤在回归测试过程有很大几率会执行失败，例如：提示 Wait element diaplayed timeout，则该步骤回归测试运行时也可能出...","custom_description":null,"_serializer":"v2.doc_detail"}